# 컴포넌트 구조 (Component Structure)

## 🎯 컴포넌트 설계 원칙

### 1. **단일 책임 원칙 (Single Responsibility)**
- 각 컴포넌트는 하나의 명확한 책임만 가져야 함
- 너무 많은 기능을 담당하는 컴포넌트는 분리

### 2. **재사용성 우선 (Reusability First)**
- 공통 기능은 재사용 가능한 컴포넌트로 분리
- Props를 통한 유연한 커스터마이징 지원

### 3. **일관된 인터페이스 (Consistent Interface)**
- 비슷한 기능의 컴포넌트는 일관된 Props 구조 유지
- 표준화된 이벤트 핸들러 네이밍

## 🏗️ 컴포넌트 아키텍처 원칙

### 1. **계층 구조 (Hierarchy)**
```
Page Components (페이지별)
├── Layout Components (레이아웃)
├── Feature Components (기능별)
└── Common Components (공통)
```

### 2. **의존성 방향 (Dependency Direction)**
- 상위 컴포넌트 → 하위 컴포넌트 (단방향)
- 하위 컴포넌트는 상위 컴포넌트에 의존하지 않음
- Context나 Props를 통한 데이터 전달

### 3. **컴포넌트 분리 기준**
- **기능별 분리**: 비즈니스 로직이 다른 경우
- **복잡도별 분리**: 너무 복잡해진 경우
- **재사용성별 분리**: 여러 곳에서 사용되는 경우

## 📁 폴더 구조 원칙

### 1. **기능별 그룹화**
```
components/
├── common/           # 공통 컴포넌트
├── layout/           # 레이아웃 컴포넌트
├── features/         # 기능별 컴포넌트
│   ├── auth/        # 인증 관련
│   ├── dashboard/   # 대시보드 관련
│   ├── marketplace/ # 마켓플레이스 관련
│   └── editor/      # 에디터 관련
└── ui/              # 기본 UI 컴포넌트
```

### 2. **컴포넌트별 폴더 구조**
```
ComponentName/
├── ComponentName.tsx     # 메인 컴포넌트
├── index.ts             # 내보내기
└── types.ts             # 타입 정의 (필요시)
```

## 🔧 컴포넌트 구현 원칙

### 1. **Props 설계**
- 필수 Props와 선택적 Props를 명확히 구분
- 이벤트 핸들러는 `on` 접두사 사용
- 스타일링 Props는 일관된 네이밍 규칙 적용

### 2. **상태 관리 원칙**
- **로컬 상태**: 컴포넌트 내부에서만 사용되는 상태
- **전역 상태**: 여러 컴포넌트에서 공유되는 상태
- **서버 상태**: API 호출 결과로 관리되는 상태

### 3. **에러 처리**
- **Error Boundary**: 예상치 못한 에러 처리
- **Props Validation**: 필수 Props 검증
- **Fallback UI**: 에러 발생 시 대체 UI 제공

## 🎨 스타일링 원칙

### 1. **TailwindCSS 활용**
- **유틸리티 클래스 우선**: 가능한 한 Tailwind 클래스 사용
- **커스텀 클래스**: 복잡한 스타일이나 반복되는 패턴에만 @apply 사용
- **일관된 순서**: 레이아웃 → 스페이싱 → 크기 → 색상 → 기타

### 2. **반응형 디자인**
- **모바일 우선**: 기본 스타일은 모바일용으로 작성
- **점진적 향상**: 모바일 → 태블릿 → 데스크톱 순서로 스타일 추가

### 3. **테마 시스템**
- **CSS 변수**: 색상, 폰트, 간격 등 디자인 토큰
- **다크 모드**: `dark:` 접두사를 활용한 테마 전환

## 📝 문서화 원칙

### 1. **Props 문서화**
- 각 Props의 목적과 타입 명시
- 사용 예시 코드 제공
- 제약사항이나 주의사항 명시

### 2. **변경 이력 관리**
- 주요 변경사항을 컴포넌트 상단에 주석으로 기록
- Breaking change 발생 시 마이그레이션 가이드 제공

## 📊 컴포넌트 품질 관리

### 1. **코드 품질 지표**
- **복잡도**: 너무 복잡한 컴포넌트는 분리 고려
- **재사용성**: 여러 곳에서 사용되는지 확인

### 2. **리팩토링 기준**
- **Props 개수**: 5개 이상이면 객체로 그룹화 고려
- **컴포넌트 크기**: 100줄 이상이면 분리 고려
- **중복 코드**: 비슷한 로직이 반복되면 공통 컴포넌트로 분리

### 3. **성능 고려사항**
- 불필요한 리렌더링 방지
- 메모리 누수 방지를 위한 cleanup 함수 구현

---

> **참고**: 
> - 파일 구조는 [file-structure.md](./file-structure.md)를 참조하세요.
> - 코딩 컨벤션은 [convention.md](./convention.md)를 참조하세요.
> - 전체 아키텍처는 [architecture.md](./architecture.md)를 참조하세요.
